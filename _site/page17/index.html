
<!DOCTYPE html>
<html language="en"><head>
  <meta charset="utf-8">
  <title>naildrivin5.com - David Bryant Copeland's Website</title>
  <meta name="author" content="David Bryant Copeland">
  <link rel="apple-touch-icon" sizes="57x57" href="/images/favicons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/images/favicons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/images/favicons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/images/favicons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/images/favicons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/images/favicons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/images/favicons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/images/favicons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/images/favicons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/images/favicons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicons/favicon-16x16.png">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/images/favicons/ms-icon-144x144.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  

  
  <meta name="description" content="
  
  
  
    
      
        
        Why underscores might be better than camel case
        
        December 10, 2008
      
      
        
  ...">
  

  
  <link rel="canonical" href="http://naildrivin5.com/page17/">
  <link href="/favicon.png" rel="icon">
  <link href="/atom.xml" rel="alternate" title="naildrivin5.com - David Bryant Copeland's Website" type="application/atom+xml">
  <link href="/css/styles.css" rel="stylesheet">
  <script src="https://use.typekit.net/ylm4zpa.js"></script>
  <script>try{Typekit.load({ async: true });}catch(e){}</script>
            
  <meta name="google-site-verification" content="h_yTpXa6N3ebHj8DYmgX4lIFGHBW1NtGMVHfXuu7i_4" />
</head>
<body>
  <header class="site-header pb2 mb2 center">
    <h1 class="uc ls2 f1"><a href="/">naildrivin5.com</a></h1>
    <h2 class="ls1"><small class="uc h4">Website of</small> David Bryant Copeland</h2>
    <nav>
      <ul>
        <li class="text-c w-1-3"><a class="ib w-100 button" href="/">Blog</a></li>
        <li class="text-c w-1-3"><a class="ib w-100 button" href="/bio">About</a></li>
        <li class="text-c w-1-3"><a class="ib w-100 button" href="/books">Books</a></li>
        <li class="text-c w-1-3"><a class="ib w-100 button" href="/talks">Talks</a></li>
      </ul>
      <div style="clear: both"></div>
    </nav>
  </header>
  <main>
    <section>
      <div class="blog-index">
  
  
  
    <article>
      <header>
        
        <h1 class="f4"><a class="no-ul ul-hover" href="/blog/2008/12/10/why-underscores-might-be-better-than-camel-case.html">Why underscores might be better than camel case</a></h1>
        
        <h2 class="f6 mtneg">December 10, 2008</h2>
      </header>
      
        
          <section class="section-break complete-article mb1">
            <p>
So, the "Ruby way" is to use underscores to delimit most identifiers, e.g. "<tt>add_months_to_date</tt>", as opposed to the Java camel-case way of "<tt>addMonthsToDate</tt>".  This was initially something that irked me about Ruby, mostly because typing an underscore is kindof a pain (shift with the left hand and pinky with the other).</p>
<p> Now that I've started working, I've been reading a lot of code and realizing that <b>code is more often read than written</b>.  Ultimately, camel case is a just lot harder to read (especially if you create meaningful method names like myself and my co-workers seem to do).
</p>
<p>
It's pretty hard to defend:
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Date</span> <span class="nf">calculatePersonDataUsageHistoryStartDate</span><span class="p">(</span><span class="o">)</span> <span class="o">{}</span></code></pre></figure>
as more readable than:
<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">calculate_person_data_usage_history_start_date</span><span class="p">()</span>
<span class="k">end</span></code></pre></figure>
The underscores are like spaces, making the identifier a lot more readable.  Of course, both are more readable than:
<figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="c1">// Calculates the start date of the
// person's data usage history
</span><span class="n">time_</span> <span class="n">prsn_dt_uhst_st_dt</span><span class="p">(){}</span></code></pre></figure>
</p>
<p>
This would never fly with Java (and, honestly, look a bit weird), but I'm no longer gonna curse the Ruby convention.
</p>

          </section>
        
      
    </article>
  
  
    <article>
      <header>
        
        <h1 class="f4"><a class="no-ul ul-hover" href="/blog/2008/12/09/gliffy-updated-their-site.html">Gliffy updated their site!</a></h1>
        
        <h2 class="f6 mtneg">December 09, 2008</h2>
      </header>
      
        
          <section class="section-break complete-article mb1">
            <p>
Though I'm no longer working for <a href="http://www.gliffy.com">Gliffy</a>, I'm excited to see that <a href="http://www.gliffy.com/blog/2008/12/08/gliffy-online-release-bpmn-symbols-and-folder-management/">they updated their site</a> with some of what I worked on!  Awesome!
</p>
<p>
Specifically, I worked on the folder organization system that they added to replace the tagging system.  This fell out of the API work that I did (which I'm assuming is in private beta right now, but I'm not sure).  I also worked on a feature that, while painful as a developer, is my favorite new thing about Gliffy: the basic account no longer has a five-diagram limit!  That means for free, you can create unlimited diagrams.  The catch is that your diagrams are all public, but I think it's a great way to enhance the functionality while subversively getting their name out to more people.
</p>

          </section>
        
      
    </article>
  
  
    <article>
      <header>
        
        <h1 class="f4"><a class="no-ul ul-hover" href="/blog/2008/12/07/emma-and-testng-for-simple-java-code-coverage.html">EMMA and TestNG for Simple Java Code Coverage</a></h1>
        
        <h2 class="f6 mtneg">December 07, 2008</h2>
      </header>
      
        
          <section class="section-break complete-article mb1">
            <p>
Although <a href="http://www.naildrivin5.com/daveblog5000/?p=48">RCov makes code coverage in Ruby dead simple</a>, I wasn't sure how easy this would be to achieve with Java.  The first free tool I found is called <a href="http://emma.sourceforge.net/">EMMA</a> and it was surprisingly easy to setup, especially since the documentation isn't geared toward getting coverage during tests (but getting it during execution).
</p>
<p>
EMMA works by instrumenting the classfiles to analyze coverage.  Although it can do just-in-time instrumentation, that didn't seem to work for recording coverage via TestNG.  The offline instrumentation makes is pretty easy to use with anything.  Basically, you want your ANT file to:
<ol>
<li>Compile your code</li>
<li>Use EMMA to instrument your classes to a different directory</li>
<li>Run your tests, using the instrumented classes <b>first</b> in your classpath</li> and passing a few system properties to your running code</li>
<li>Run EMMA's report generator on the output</li>
</ol>
At first, I was getting some runtime errors because interfaces are not instrumented (and don't show up in the location you tell EMMA to put them).  The solution is to put <b>both</b> your instrumented classes directory and your regular, non-instrumented classes directory in the classpath, making sure the <b>instrumented</b> ones are first.</p>
<p>
<a href="http://github.com/davetron5000/importscrubber/tree/master/src/ant/test.xml">Here's my <tt>test.xml</tt></a> I'm using in <a href="https://github.com/davetron5000/importscour/tree">my fork of ImportScrubber</a> that shows it all working together.  All in all, it only took about 15 minutes to set up and debug.  Of course, now, the tests that came with ImportScrubber provide almost <b>no</b> coverage, but that's another story....
</p>

          </section>
        
      
    </article>
  
  
    <article>
      <header>
        
        <h1 class="f4"><a class="no-ul ul-hover" href="/blog/2008/12/01/i-can-haz-job.html">I can haz job</a></h1>
        
        <h2 class="f6 mtneg">December 01, 2008</h2>
      </header>
      
        
          <section class="section-break complete-article mb1">
            <p>
So, I am finally employed and I didn't even have to settle.  After a refreshingly protracted and detailed interview process, I'm finally schlepping myself to a job that I'm more or less excited about.  That's saying something, since I've spent the last 8 months at home (6.5 of them working for Gliffy) in my perfect environment: waking up whenever, using my dual-monitor mac, <a href="http://www.flickr.com/photos/davetron5000/tags/rudy">Rudy</a> close by.  My first day was a net win, despite having to bring in my own computer, and overall I'm not complaining because I get to use a Mac at work <B>thank GOD</b>.
</p>
<p>
Pluses so far:
<ul>
<li>Smart people I can have a conversation with</li>
<li>Meaningful product (i.e. not another CRUD app for a government agency [not that there's anything wrong with it])</li>
<li>Not only have they heard of javadoc, they use it!</li>
<li>Database migrations!</li>
<li>Clean looking code and tests that actually pass on a fresh checkout!</li>
<li>No M$ exchange server or other shitbox mail system (they use Google Apps)</li>
<li>Damn close to home; I should be biking in real soon</li>
<li>Relaxed environment</li>
<li>I'm one person away from a bonafide window with the shades open!</li>
</ul>
Honestly, it's almost a 100% on my <a href="http://www.naildrivin5.com/daveblog5000/?p=47">interview rubric</a> (which I took down for a while, because some HR person read it and gave me shit about not liking having a dress code.  I mean, does <b>anyone</b> <b>really</b> like putting on a suit and tie to site and write code?  Or to do anything?  We're talking levels of tolerance, and mine is low, mostly because I believe dress codes indicate a deeper organizational problem of priority management).  
</p>
<p>
Negatives so far:
<ul>
<li>Kinda noisy office (fortunately few people seem to have phones)</li>
<li>Subversion (it looks like they aren't going nuts with branches, so <tt>git-svn</tt> should preserve my sanity in this regard)</li>
</ul>
</p>
<p>
On the fence so far:
<ul>
<li>Maven - The only reason this isn't a negative is that it's better than the pile of shit ant script everyone else uses, and the build <b>does</b> work pretty painlessly.</li>
<li>Spring - I haven't used Spring for anything real, and I can't say it gets me excited (nor have I ever thought it sounded all that great), but I'm optimistic about it.  I figure if it, in fact, is great, I'm happy. If it sucks, I have fodder for ranting.  It's a win/win.  I <b>do</b> fear the XML situps tho.</li> 
</ul>
</p>

          </section>
        
      
    </article>
  
  
    <article>
      <header>
        
        <h1 class="f4"><a class="no-ul ul-hover" href="/blog/2008/10/31/rubys-awesomely-dangerous-awesomeness.html">Ruby's awesomely dangerous awesomeness</a></h1>
        
        <h2 class="f6 mtneg">October 31, 2008</h2>
      </header>
      
        
          <section class="section-break complete-article mb1">
            <p>
While packaging <a href="http://github.com/davetron5000/daves-resume">my resume</a> creator/formatter as a Ruby Gem, I noticed my command line parser was preventing my code from running.  It has this hook that sets up an "auto run" sequence (your code just defines a <tt>main</tt> method):
<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">inherited</span><span class="p">(</span><span class="n">child_class</span><span class="p">)</span>
  <span class="vc">@@appname</span> <span class="o">=</span> <span class="nb">caller</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="sr">/.*:/</span><span class="p">][</span><span class="mi">0</span><span class="p">.</span><span class="nf">.</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
  <span class="vc">@@child_class</span> <span class="o">=</span> <span class="n">child_class</span>
  <span class="k">if</span> <span class="vc">@@appname</span> <span class="o">==</span> <span class="vg">$0</span>
    <span class="n">__set_auto_run</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></figure>
the problem is that <tt>$0</tt> from gem is the <tt>/usr/bin</tt> location and <tt>@@appname</tt> is the <b>actual</b> location in the Gem repository.  Not sure why this check was there, but I had a problem.
</p>
<p>
Not feeling like overhauling the command line interface code and not being able to patch OptionParser, I opted instead to use the dangerous-sounding ruby feature of <i>replacing the method with my own implementation</i>:
<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">CommandLine</span><span class="o">::</span><span class="no">Application</span>
  <span class="k">class</span> <span class="o">&lt;&lt;</span> <span class="nb">self</span>
    <span class="k">alias</span> <span class="n">old_inherited</span> <span class="n">inherited</span>

    <span class="k">def</span> <span class="nf">inherited</span><span class="p">(</span><span class="n">child_class</span><span class="p">)</span>
      <span class="vc">@@appname</span> <span class="o">=</span> <span class="nb">caller</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="sr">/.*:/</span><span class="p">][</span><span class="mi">0</span><span class="p">.</span><span class="nf">.</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
      <span class="vc">@@child_class</span> <span class="o">=</span> <span class="n">child_class</span>
      <span class="n">normalized_appname</span> <span class="o">=</span> <span class="vc">@@appname</span><span class="p">.</span><span class="nf">gsub</span><span class="p">(</span><span class="sr">/^.*\//</span><span class="p">,</span><span class="s2">""</span><span class="p">);</span>
      <span class="n">normalized_dollar0</span> <span class="o">=</span> <span class="vg">$0</span><span class="p">.</span><span class="nf">gsub</span><span class="p">(</span><span class="sr">/^.*\//</span><span class="p">,</span><span class="s2">""</span><span class="p">);</span>
      <span class="k">if</span> <span class="n">normalized_appname</span> <span class="o">==</span> <span class="n">normalized_dollar0</span>
        <span class="n">__set_auto_run</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></figure>
Now <b>that's</b> pretty cool.  My code just dynamically patches the broken Gem!  The power of open source and dynamic languages.  Of course, this feature allows so much awful code to be written....
</p>

          </section>
        
      
    </article>
  
  
    <article>
      <header>
        
        <h1 class="f4"><a class="no-ul ul-hover" href="/blog/2008/10/24/50.html">Interview Rubric really needed?</a></h1>
        
        <h2 class="f6 mtneg">October 24, 2008</h2>
      </header>
      
        
          <section class="section-break complete-article mb1">
            <p>It's been a few weeks of job hunting and I haven't once had to make a decision that <a href="http://www.naildrivin5.com/daveblog5000/?p=47">my post on interviewing</a> would've helped resolve.  The fact is, you get a feel almost immediately for a place, and the reasons you say "yes" or "no" have more to do with <b>who</b> you'll be working with than the number of monitors you get.  Usually, a place that's using ancient COTS products has put up red flags far earlier in the process.  And the jobs I get excited about have nothing to do with their use of Git.
</p>
<p>
Some lowlights:
<ul>
<li>Left waiting for so long, I had to walk out of the interview in order to meet an appointment.  The receptionist explained "Well, they have a lot of work to get done!"  Good luck with getting it done.</li>
<li>A guy giving a tech interview (for a J2EE position) couldn't understand how a Swing front-end to an EJB/JPA backend could possibly be called J2EE.</li>
<li>Being asked a logic question and, as soon as I used the right word while thinking out loud (in this case "tree"), was cut off and we moved to the next question. After 10 minutes of this, he walked out without telling me anything about the company or job.</li>
<li>Being offered a job after having <b>No</b> technical questions asked of me.  Gee, who else is working there?</li>
<li>Interviewing in a place where <b>every</b> single aspect of the work environment was crappier than the crappiest house I've ever lived.  If <b>I</b> can afford a fresh coat of paint every few years, shouldn't some "global enterprise solution consulting firm" be able to swing it?</li>
<li>A Java development shop using....Visual Source Safe.  I think <tt>cp Foo.java Foo.java.bak</tt> might be better</li>
</ul>
Of course, there's been some legitimate highlights as well:
<ul>
<li>Being asked some challenging questions about concurrency and data structures.  You may not ever have to implement a linked-list, but anyone should know it and when I'm asked, it's a definite plus that the people on the other end know what they are doing</li>
<li>Being asked to write code.  So far, exactly <b>two</b> positions have asked me write code in the interview.  Thank god for them, or my faith would be shaken; seriously.  I'm always <b>very</b> nervous when I'm applying for a job where I have to write code and no one seems to need any proof that I can do it.  It makes me wonder who else is working there</li>
<li>Solid explanations of the business or project.  I used to think this was a no-brainer, but more often than not, I come away from a second interview with NO IDEA what I'd be doing if I took the job.</li>
</ul>
</p>
<p>
Criteria is only useful when you have to narrow down a lot of choices.  I'd love to have so many great opportunities that I could just pick the one where I can develop on a Mac, or the one with the nicest office (all other things being equal).  Sadly, that is not the case around here.  It seems very few of my colleagues are being too particular, and I can't help wondering what effect it might have on, well, <b>the world</b> if clueless developers were not as employable as it seems they are.
</p>

          </section>
        
      
    </article>
  
  
    <article>
      <header>
        
        <h1 class="f4"><a class="no-ul ul-hover" href="/blog/2008/10/14/things-id-like-to-leave-behind.html">Things I'd like to leave behind</a></h1>
        
        <h2 class="f6 mtneg">October 14, 2008</h2>
      </header>
      
        
          <section class="section-break complete-article mb1">
            <p>
<ul>
<li><b>Subversion</b> - Git is so much better in so many ways (it goes without saying that CVS should be allowed to die)</li>
<li><b>JUnit</b> - TestNG does all that JUnit does and more; what does JUnit even have to offer these days?</li>
<li><b>Java 1.4</b> - Java without generics is just so much pain</li>
<li><b>Java Web Frameworks</b> - As far as I can tell, <b>none</b> of them adequately address one of the fundamental problems in web development, which is to simplify the creation of the UI.</li>
<li><b>Ant</b> - Ant has always been the world's worst build automation language; who creates a build tool without variables, loops and conditionals?  We can do better (and Maven doesn't appear to be it)</li>
<li><b>Checked exceptions</b> - <tt>java.lang.Exception</tt> is possibly the worst class in the Java library; should never be caught nor thrown<sup>1</sup></li>
<li><b>Misuses of XML</b> - XML has a purpose, and it's not as a programming language or configuration file format.  Any notion that XML is anything other than a <b>binary format</b> is misguided</li>
</ul>
</p>
<p><i>
<sup>1</sup>API developers should be allowed to declare that they throw <tt>Exception</tt> to allow subclasses to throw whatever they want with impunity, however <tt>Throwable</tt> is the preferred thing to catch for catch-alls, and the entire exception mechanism in Java is woefully broken.</i>
<p>

          </section>
        
      
    </article>
  
  
    <article>
      <header>
        
        <h1 class="f4"><a class="no-ul ul-hover" href="/blog/2008/10/14/ruby-and-dead-simple-code-coverage.html">Ruby and dead simple code coverage</a></h1>
        
        <h2 class="f6 mtneg">October 14, 2008</h2>
      </header>
      
        
          <section class="section-break complete-article mb1">
            <p>
I haven't used a code coverage tool for Java, but in my spare time I've been working up some Ruby code (mostly to learn the language).  I'm using Test Driven Development, which is slightly simpler with Ruby than with Java (mostly due to Ruby's interpreted nature).
</p>
<p>
I had heard about <a href="http://eigenclass.org/hiki.rb?rcov ">rcov</a> and decided to give it a shot.  Within literally <b>5 minutes</b> I had it installed and a report showing my tests were not covering all my code!  Amazing.  I could then easily see <b>exactly</b> where I need to to test and, sure enough, found some bugs that would've gone unnoticed.  
</p>
<p>
Even the best tool with Java would've required some painful ant tweaking (not to mention hopes and prayers that it worked with TestNG).  I already cannot imagine writing tests without being able to view the coverage....
</p>

          </section>
        
      
    </article>
  
  
    <article>
      <header>
        
        <h1 class="f4"><a class="no-ul ul-hover" href="/blog/2008/10/07/interviewing-the-interviewer-a-rubric.html">Interviewing the Interviewer: A Rubric</a></h1>
        
        <h2 class="f6 mtneg">October 07, 2008</h2>
      </header>
      
        
          <section class="section-break complete-article mb1">
            <p>
Sad to say, my time at Gliffy is at an end (:sniff:), so I'm heading back into the job pool.  I was lucky to get some time in at Gliffy, because, living in Washington, DC, my opportunities for sexy cutting-edge jobs are about zilch.  Instead, I'm facing a <b>huge</b> market of "Senior JBoss Portal Maintenance Archiect" type jobs.</p>
<p>I guess I should feel lucky that there's lots of positions out there, but I really don't want to be the cog in a huge machine.  Gliffy has shielded me from the Horror That Can Be Consulting, so I need to keep my perspective in such trying times.  So, calling on my experiences before Gliffy, I've made this handy rubric to make sure I explore all facets of a potential position.
</p>
<p>
I don't expect anyone to get all positives and no negatives (I've certainly never been anywhere that perfect), bit it's always good to know.  For example, if I have to put up with PVCS, I better be sitting on an Aeron chair and be using a normalized database.  Further, this is obviously in addition to standard questions regarding what the project is about (i.e. is it interesting) and what the people are like.  A whole lot of this can be forgiven by being part of a great team or working on a really cool product.
</p>
<p>
<table border="1">
    <tr><th>Question</th><th>Points for</th><th>Points against</th></tr>
    <tr>
        <td style="border: solid thin black; color: black; text-align: left; font-weight: bold; background:#eeeeee;" valign="top">How do you fare on the Joel Test?</td>
        <td style="border: solid thin black; color: black; text-align: left; background:#bbffbb;" valign="top">
            &middot; High score<br />
            &middot; Good explanations for missing items
        </td>
        <td style="border: solid thin black; color: black; text-align: left; background:#ffbbbb;" valign="top">
            &middot; Low score<br />
            &middot; Never heard of it
        </td>
    </tr>
    <tr>
        <td style="border: solid thin black; color: black; text-align: left; font-weight: bold; background:#eeeeee;" valign="top">Describe your development process</td>
        <td style="border: solid thin black; color: black; text-align: left; background:#bbffbb;" valign="top">
            &middot; Structured<br />
            &middot; Easily described
        </td>
        <td style="border: solid thin black; color: black; text-align: left; background:#ffbbbb;" valign="top">
            &middot; Overly draconian<br />
            &middot; Lack of<br />
            &middot; Not easily described
        </td>
    </tr>
    <tr>
        <td style="border: solid thin black; color: black; text-align: left; font-weight: bold; background:#eeeeee;" valign="top">What kind of computer will I be using to develop?</td>
        <td style="border: solid thin black; color: black; text-align: left; background:#bbffbb;" valign="top">
            &middot; Two monitors<br />
            &middot; Mac<br />
            &middot; Linux<br />
            &middot; Administrator access
        </td>
        <td style="border: solid thin black; color: black; text-align: left; background:#ffbbbb;" valign="top">
            &middot; Vague answer<br />
            &middot; Small monitor<br />
            &middot; Windows<br />
            &middot; Locked-down
        </td>
    </tr>
    <tr>
    <td style="border: solid thin black; color: black; text-align: left; font-weight: bold; background:#eeeeee;" valign="top">Do you block certain sites or applications on your network?</td>
    <td style="border: solid thin black; color: black; text-align: left; background:#bbffbb;" valign="top">
    &middot; Open network
    </td>
    <td style="border: solid thin black; color: black; text-align: left; background:#ffbbbb;" valign="top">
    &middot; Closed network
    </td>
    </tr>
    <tr>
    <td style="border: solid thin black; color: black; text-align: left; font-weight: bold; background:#eeeeee;" valign="top">What is the physical environment like?</td>
    <td style="border: solid thin black; color: black; text-align: left; background:#bbffbb;" valign="top">
    &middot; Good Chairs<br />
    &middot; Private office<br />
    &middot; Natural light<br />
    &middot; Reasonable Temperature
    </td>
    <td style="border: solid thin black; color: black; text-align: left; background:#ffbbbb;" valign="top">
    &middot; Old, crappy<br />
    &middot; Bullpen style
    </td>
    </tr>
    <tr>
    <td style="border: solid thin black; color: black; text-align: left; font-weight: bold; background:#eeeeee;" valign="top">Am I required or encouraged to use Windows?</td>
    <td style="border: solid thin black; color: black; text-align: left; background:#bbffbb;" valign="top">
    &middot; No, few devs use Windows
    </td>
    <td style="border: solid thin black; color: black; text-align: left; background:#ffbbbb;" valign="top">
    &middot; Yes
    </td>
    </tr>
    <tr>
    <td style="border: solid thin black; color: black; text-align: left; font-weight: bold; background:#eeeeee;" valign="top">What collaboration tools do you use?</td>
    <td style="border: solid thin black; color: black; text-align: left; background:#bbffbb;" valign="top">
    &middot; Wikis<br />
    &middot; IM<br />
    &middot; Bug tracking<br />
    &middot; Sensible PM
    </td>
    <td style="border: solid thin black; color: black; text-align: left; background:#ffbbbb;" valign="top">
    &middot; Email word documents<br />
    &middot; MS-project<br />
    &middot; SharePoint<br />
    &middot; Other proprietary crap (e.g. eRoom, Documentum)<br />
    &middot; No tools
    </td>
    </tr>
    <tr>
    <td style="border: solid thin black; color: black; text-align: left; font-weight: bold; background:#eeeeee;" valign="top">What are some of your HR policies?</td>
    <td style="border: solid thin black; color: black; text-align: left; background:#bbffbb;" valign="top">
    &middot; Few, if any<br />
    &middot; Loose dress code<br />
    &middot; Flexible schedule
    </td>
    <td style="border: solid thin black; color: black; text-align: left; background:#ffbbbb;" valign="top">
        &middot; Draconian<br />
        &middot; Dress code<br />
        &middot; Core hours
    </td>
    </tr>
    <tr>
    <td style="border: solid thin black; color: black; text-align: left; font-weight: bold; background:#eeeeee;" valign="top">Can I see the code I will be working with?</td>
        <td style="border: solid thin black; color: black; text-align: left; background:#bbffbb;" valign="top">
        &middot; Letting me see it<br />
        &middot; Meaningful javadocs/API documentation<br />
        &middot; Structured, consistent style<br />
        &middot; Sensible class names and file organization<br />
        &middot; Sane build process
    </td>
    <td style="border: solid thin black; color: black; text-align: left; background:#ffbbbb;" valign="top">
        &middot; Not letting me see it<br />
        &middot; Mix of styles<br />
        &middot; No javadocs<br />
        &middot; Empty javadocs<br />
        &middot; Convoluted file organization<br />
        &middot; Broken build file
    </td>
    </tr>
    <tr>
    <td style="border: solid thin black; color: black; text-align: left; font-weight: bold; background:#eeeeee;" valign="top">How do you do testing?</td>
    <td style="border: solid thin black; color: black; text-align: left; background:#bbffbb;" valign="top">
        &middot; Have testers<br />
        &middot; Do unit tests<br />
        &middot; Maintain tests<br />
        &middot; TDD<br />
        &middot; Bug tracker
    </td>
    <td style="border: solid thin black; color: black; text-align: left; background:#ffbbbb;" valign="top">
    &middot; Ad hoc<br />
    &middot; Lip service to test-first<br />
    &middot; No unit tests
    </td>
    </tr>
    <tr>
    <td style="border: solid thin black; color: black; text-align: left; font-weight: bold; background:#eeeeee;" valign="top">What is your approach to configuration management?</td>
    <td style="border: solid thin black; color: black; text-align: left; background:#bbffbb;" valign="top">
    &middot; Having an approach<br />
    &middot; Git<br />
    &middot; Database migrations<br />
    &middot; Know the versions of 3rd party software/have a baseline configuration<br />
    &middot; Organized
    </td>
    <td style="border: solid thin black; color: black; text-align: left; background:#ffbbbb;" valign="top">
    &middot; No approach<br />
    &middot; CVS<br />
    &middot; Perforce, ClearCase, other closed crud<br />
    &middot; Shared drives<br />
    &middot; Can't describe versions/configuration
    </td>
    </tr>
    <tr>
    <td style="border: solid thin black; color: black; text-align: left; font-weight: bold; background:#eeeeee;" valign="top">Can I see the database schema I'll be working with?</td>
        <td style="border: solid thin black; color: black; text-align: left; background:#bbffbb;" valign="top">
        &middot; Letting me see it<br />
        &middot; Normalized<br />
    &middot; Sane names (no TBL_* bullshit)<br />
        &middot; Synthetic numeric keys<br />
        &middot; Referential integrity<br />
        &middot; Documented!<br />
        &middot; Versioned!
        </td>
        <td style="border: solid thin black; color: black; text-align: left; background:#ffbbbb;" valign="top">
        &middot; Not letting me see it<br />
        &middot; Unnormalized<br />
        &middot; Dumb names<br />
        &middot; Incorrect types<br />
        &middot; String-based keys<br />
        &middot; No constraints<br />
        &middot; Undocumented
        </td>
    </tr>
</table>
</p>
<p>
What else am I missing?
</p>

          </section>
        
      
    </article>
  
  
    <article>
      <header>
        
        <h1 class="f4"><a class="no-ul ul-hover" href="/blog/2008/09/26/are-you-emailing-yourself-your-log-errors-you-should-be.html">Are you emailing yourself your log errors?  You should be.</a></h1>
        
        <h2 class="f6 mtneg">September 26, 2008</h2>
      </header>
      
        
          <section class="section-break complete-article mb1">
            <p>
Time and time again, users complain about an application crashing on them or otherwise not working.  They don't provide you any info and it's hard to repeat.  You check out the log, but there's thousands (or millions) of entries and you have no clue where their error occured.  Worse, if you are deploying a RIA, the log  may be on their computer and not available.
</p>
<p>
On my last project we experienced this scenario so much that we instituted two things
<ul>
<li>All messages logged with <tt>Level.ERROR</tt> in log4j would be emailed to us</li>
<li>All exceptions caught on the client would be packaged and sent back to the server and logged at <tt>Level.ERROR</tt> level (thus emailing them to us</li>
</ul>
After the initial deluge of emails, we <b>found a lot of bugs</b>.  I mean <b>a lot</b> of bugs.  The annoying, intermittent kind that are hard to reproduce.  Further, by judicious use of logging, we discovered a lot of mis-configured environments and other problems without having to get users to mail us their logs.
</p>
<p>At <a href="http://www.gliffy.com">Gliffy</a>, they are doing the same thing.  Right now, we're testing a bunch of new features and the stage instance just sent me a bunch of emails, all indicating configuration problems, which is the exact kind of thing that can be hard to track down.
</p>
<p>
Setting it up using log4j is dead simple:
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">log4j</span><span class="o">.</span><span class="na">appender</span><span class="o">.</span><span class="na">mail</span><span class="o">=</span><span class="n">org</span><span class="o">.</span><span class="na">apache</span><span class="o">.</span><span class="na">log4j</span><span class="o">.</span><span class="na">net</span><span class="o">.</span><span class="na">SMTPAuthenticateAppender</span>
<span class="n">log4j</span><span class="o">.</span><span class="na">appender</span><span class="o">.</span><span class="na">mail</span><span class="o">.</span><span class="na">SMTPHost</span><span class="o">=</span><span class="nd">@SMTP_HOST</span><span class="err">@</span>
<span class="n">log4j</span><span class="o">.</span><span class="na">appender</span><span class="o">.</span><span class="na">mail</span><span class="o">.</span><span class="na">UserName</span><span class="o">=</span><span class="nd">@SMTP_USER</span><span class="err">@</span>
<span class="n">log4j</span><span class="o">.</span><span class="na">appender</span><span class="o">.</span><span class="na">mail</span><span class="o">.</span><span class="na">Password</span><span class="o">=</span><span class="nd">@SMTP_PASS</span><span class="err">@</span>
<span class="n">log4j</span><span class="o">.</span><span class="na">appender</span><span class="o">.</span><span class="na">mail</span><span class="o">.</span><span class="na">Authenticate</span><span class="o">=</span><span class="kc">true</span>
<span class="n">log4j</span><span class="o">.</span><span class="na">appender</span><span class="o">.</span><span class="na">mail</span><span class="o">.</span><span class="na">From</span><span class="o">=</span><span class="n">errors</span><span class="nd">@gliffy</span><span class="o">.</span><span class="na">com</span>
<span class="n">log4j</span><span class="o">.</span><span class="na">appender</span><span class="o">.</span><span class="na">mail</span><span class="o">.</span><span class="na">To</span><span class="o">=</span><span class="nd">@SMTP_LOGGER_FAILURE</span><span class="err">@</span>
<span class="n">log4j</span><span class="o">.</span><span class="na">appender</span><span class="o">.</span><span class="na">mail</span><span class="o">.</span><span class="na">Subject</span><span class="o">=</span><span class="n">Errors</span> <span class="n">from</span> <span class="nd">@SMTP_DESC</span><span class="err">@</span>
<span class="n">log4j</span><span class="o">.</span><span class="na">appender</span><span class="o">.</span><span class="na">mail</span><span class="o">.</span><span class="na">BufferSize</span><span class="o">=</span><span class="mi">1</span>
<span class="n">log4j</span><span class="o">.</span><span class="na">appender</span><span class="o">.</span><span class="na">mail</span><span class="o">.</span><span class="na">Threshold</span><span class="o">=</span><span class="n">ERROR</span>
<span class="n">log4j</span><span class="o">.</span><span class="na">appender</span><span class="o">.</span><span class="na">mail</span><span class="o">.</span><span class="na">LocationInfo</span><span class="o">=</span><span class="kc">true</span> 
<span class="n">log4j</span><span class="o">.</span><span class="na">appender</span><span class="o">.</span><span class="na">mail</span><span class="o">.</span><span class="na">layout</span><span class="o">=</span><span class="n">org</span><span class="o">.</span><span class="na">apache</span><span class="o">.</span><span class="na">log4j</span><span class="o">.</span><span class="na">PatternLayout</span> 
<span class="n">log4j</span><span class="o">.</span><span class="na">appender</span><span class="o">.</span><span class="na">mail</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">ConversionPattern</span><span class="o">=%</span><span class="n">d</span> <span class="o">%</span><span class="n">p</span><span class="o">%</span><span class="n">n</span><span class="o">%</span><span class="n">t</span><span class="o">%</span><span class="n">n</span><span class="o">%</span><span class="nl">c:</span><span class="o">%</span><span class="nl">M:</span><span class="o">%</span><span class="n">L</span><span class="o">%</span><span class="n">n</span><span class="o">---%</span><span class="n">n</span><span class="o">%</span><span class="n">m</span><span class="o">%</span><span class="n">n</span><span class="o">---%</span><span class="n">n</span><span class="o">%</span><span class="n">n</span> </code></pre></figure>

In my previous job I even created a customized layout to format the emails in such a way that our code was highlighted and GMail didn't compress things into threads.
</p>
<p>
If you aren't doing this, you should be.  Now.
</p>

          </section>
        
      
    </article>
  
  <footer class="center border-top">
    <nav class="pt2 pb2">
      
        <a class="fw-bold prev pr2" href="/page18">&larr; Older</a>
      
      <a class="" href="/blog/archives">All Postsâ€¦</a>
      
        <a class="fw-bold next pl2" href="/page16">Newer &rarr;</a>
      
    </nav>
  </footer>
</div>

    </section>
  </main>
  <footer class="center">
    <p class="f6">
      Copyright &copy; 2006-2016, by David Bryant Copeland, All Rights Reserved
    </p>
  </footer>
  <script type="text/javascript">
    var _gauges = _gauges || [];
    (function() {
      var t   = document.createElement('script');
      t.type  = 'text/javascript';
      t.async = true;
      t.id    = 'gauges-tracker';
      t.setAttribute('data-site-id', '56a22cd9c88d90284f000861');
      t.setAttribute('data-track-path', 'https://track.gaug.es/track.gif');
      t.src = 'https://d36ee2fcip1434.cloudfront.net/track.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(t, s);
    })();
  </script>
</body></html>
